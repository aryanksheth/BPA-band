<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BPA Thing</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="vinyl.css">
    <link rel="stylesheet" href="navbar.css">

    <!-- Leaflet Map API -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <style>
        #map {
            position: relative;
            height: 600px;
            width: 50%;
            margin-left: 50px;
            margin-top: 50px;
        }

        .background-image {
            background: url('your-image.jpg') no-repeat center center;
            background-size: cover;
            height: 400px;
        }
        .leaflet-text{
            position: relative;
            top: px;
            margin-right: 800px;
        }
        .vinyl-txt{
            position: relative;
            top: 50px;
            margin-left: 825px;
            font: Grooved;
        }
        #vinyl-container{
             margin-left: 100px;
        }
    </style>
</head>

<body>
    <header class="navbar">
        <div class="container">
            <div class="logo">Stage-Fright</div>
            <button class="nav-toggle">
                <span>â˜°</span>
            </button>
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="tour.html" class="active">Tour</a></li>
                <li><a href="merch.html">Merchandise</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="about.html">About Us</a></li>
            </ul>
        </div>
    </header>
    <div class="vinyl-txt">
        <div class="@font-face">
        <h1-tour>Buy tickets here!</h1-tour>
        </div>
    </div>

<a href="ticket.html" id="vinyl-link">
    <div id="vinyl-container">
        <div id="wrap">
            <div id="album">
                <div id="cover"></div>
                <div id="vinyl">
                    <div id="print"></div>
                </div>
            </div>
        </div>
    </div>
</a>

    
    <div class = "leaflet-text">
        <h1-tour>Find A Concert Near You!</h1-tour>
    </div>
    <div id="map">
    </div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var map = L.map('map').setView([40.647304, -97.558594], 4);

        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);

        var cart = []; // Array to store cart items

        // Function to handle "Add to Cart"
        function addToCart(stadium) {
            window.location.href = `ticket.html`;
        }

        // Function to create the popup content
       function createPopupContent(stadium, date, imgUrl) {
            const container = document.createElement("div");
            container.style.textAlign = "center";

            const title = document.createElement("h3");
            title.textContent = stadium;

            const dateParagraph = document.createElement("p");
            dateParagraph.textContent = date;

            const image = document.createElement("img");
            image.src = imgUrl;
            image.alt = stadium;
            image.style.width = "300px";
            image.style.height = "auto";
            image.style.borderRadius = "5px";

            const button = document.createElement("button");
            button.textContent = "Add to Cart";
            button.style.marginTop = "10px";

            // Add event listener to the button
            button.addEventListener("click", addToCart);

            container.appendChild(title);
            container.appendChild(dateParagraph);
            container.appendChild(image);
            container.appendChild(button);

            return container;
        }


        // Locations and markers
        const locations = [
            {
                lat: 44.97369161057962,
                lon: -93.25727992599022,
                stadium: "US Bank Stadium",
                date: "March 31, 2025",
                imgUrl: "Map-Images/UT5KARSCLYJITG76F5OMHM55MA.jpg",
            },
            {
                lat: 40.7505,
                lon: -73.9934,
                stadium: "Madison Square Garden",
                date: "March 15, 2025",
                imgUrl: "Map-Images/msg-arena-528x297.jpg",
            },
            {
                lat: 42.3467,
                lon: -71.0972,
                stadium: "Fenway Park",
                date: "March 18, 2025",
                imgUrl: "Map-Images/fenway.jpeg",
                
            },
            {
                lat: 36.1615,
                lon: -86.7784,
                stadium: "The Ryman Auditorium",
                date: "March 25, 2025",
                imgUrl: "Map-Images/ryman.jpg",
            },
            {
                lat: 41.8807,
                lon: -87.6742,
                stadium: "United Center",
                date: "March 25, 2025",
                imgUrl: "Map-Images/united.jpeg",
            },
            {
                lat: 39.6654,
                lon: -105.2058,
                stadium: "Red Rocks Amphitheatre",
                date: "April 4, 2025",
                imgUrl: "Map-Images/redrocks.jpeg",
            },
            {
                lat: 36.1023,
                lon: -115.1784,
                stadium: "T-Mobile Arena",
                date: "April 14, 2025",
                imgUrl: "Map-Images/tmobile.jpeg",
            },
            {
                lat: 34.1122,
                lon: -118.3391,
                stadium: "Hollywood Bowl",
                date: "April 18, 2025",
                imgUrl: "Map-Images/hollwood.jpeg",
            },
            {
                lat: 34.0554,
                lon: -118.2498,
                stadium: "Disney CA",
                date: "March 25, 2025",
                imgUrl: "Map-Images/disney.jpeg",
            },
            {
                lat: 37.768,
                lon: -122.3877,
                stadium: "Chase Center",
                date: "April 25, 2025",
                imgUrl: "Map-Images/chase-ceneter.jpeg",
            }
        ];

       // Create markers for each location
        locations.forEach(function (location) {
            var marker = L.marker([location.lat, location.lon]).addTo(map);
            marker.bindPopup(createPopupContent(location.stadium, location.date, location.imgUrl));

            var circle = L.circle([location.lat, location.lon], {
                color: 'blue',
                fillColor: 'blue',
                fillOpacity: 0.25,
                radius: 500
            }).addTo(map);
        });

     
    });
    </script>
</body>

</html>